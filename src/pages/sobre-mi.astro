---
import { getCollection } from 'astro:content';
import DefaultLayout from '../layouts/DefaultLayout.astro';

import HeroSection from '../components/SobreMiPage/HeroSection.astro';
import ContentSection from '../components/SobreMiPage/ContentSection.astro';
import ImageSection from '../components/SobreMiPage/ImageSection.astro';
import ValuesSection from '../components/SobreMiPage/ValuesSection.astro';
import LogoCloud from '../components/SobreMiPage/LogoCloud.astro';
import BlogSection from '../components/SobreMiPage/BlogSection.astro';
import TeamSection from '../components/SobreMiPage/TeamSection.astro';

// Get the blog posts
const posts = (await getCollection('blog')).sort(
  (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
);

// Get the last 3 posts
const recentPosts = posts.slice(0, 3);
---

<DefaultLayout>
  <div class='bg-white'>
    <div class='isolate'>
      <HeroSection />

      <ContentSection totalPosts={posts.length} />

      <ImageSection />

      <ValuesSection />

      <LogoCloud />

      <!-- <TeamSection /> -->

      <BlogSection recentPosts={recentPosts} />
    </div>
  </div>
</DefaultLayout>
